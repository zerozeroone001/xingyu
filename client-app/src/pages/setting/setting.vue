<template>
  <view class="setting-page" :class="themeStore.themeClass">
    <view class="container">
      <!-- é¡µé¢æ ‡é¢˜ -->
      <view class="page-header">
        <text class="page-title">è®¾ç½®</text>
      </view>

      <!-- è®¾ç½®åˆ—è¡¨ -->
      <view class="setting-list">
        <!-- ä¸»é¢˜è®¾ç½® -->
        <view class="setting-section">
          <view class="section-title theme-text-secondary">å¤–è§‚è®¾ç½®</view>

          <view class="setting-item theme-card">
            <view class="item-left">
              <text class="item-icon">ğŸ¨</text>
              <text class="item-label">ä¸»é¢˜æ¨¡å¼</text>
            </view>
            <view class="item-right">
              <theme-toggle />
            </view>
          </view>

          <view class="setting-item theme-card">
            <view class="item-left">
              <text class="item-icon">ğŸŒˆ</text>
              <text class="item-label">ä¸»é¢˜è‰²</text>
            </view>
            <view class="item-right">
              <view class="color-preview" :style="{ backgroundColor: primaryColor }"></view>
              <text class="item-value theme-text-tertiary">ä¼˜é›…è“</text>
            </view>
          </view>
        </view>

        <!-- ä¸»é¢˜æ•ˆæœé¢„è§ˆ -->
        <view class="setting-section">
          <view class="section-title theme-text-secondary">ä¸»é¢˜é¢„è§ˆ</view>

          <view class="preview-card theme-card">
            <view class="preview-title">è‰²å½©ç¤ºä¾‹</view>
            <view class="color-samples">
              <view class="color-sample">
                <view class="sample-color" style="background-color: var(--color-primary)"></view>
                <text class="sample-label">ä¸»è‰²è°ƒ</text>
              </view>
              <view class="color-sample">
                <view class="sample-color" style="background-color: var(--color-success)"></view>
                <text class="sample-label">æˆåŠŸ</text>
              </view>
              <view class="color-sample">
                <view class="sample-color" style="background-color: var(--color-warning)"></view>
                <text class="sample-label">è­¦å‘Š</text>
              </view>
              <view class="color-sample">
                <view class="sample-color" style="background-color: var(--color-error)"></view>
                <text class="sample-label">é”™è¯¯</text>
              </view>
            </view>
          </view>

          <view class="preview-card theme-card">
            <view class="preview-title">æ–‡å­—ç¤ºä¾‹</view>
            <view class="text-samples">
              <text class="sample-text" style="color: var(--text-primary)">ä¸»è¦æ–‡å­—</text>
              <text class="sample-text" style="color: var(--text-secondary)">æ¬¡è¦æ–‡å­—</text>
              <text class="sample-text" style="color: var(--text-tertiary)">è¾…åŠ©æ–‡å­—</text>
              <text class="sample-text" style="color: var(--text-disabled)">ç¦ç”¨æ–‡å­—</text>
            </view>
          </view>

          <view class="preview-card theme-card">
            <view class="preview-title">æŒ‰é’®ç¤ºä¾‹</view>
            <view class="button-samples">
              <button class="theme-button">ä¸»è¦æŒ‰é’®</button>
              <button class="theme-button button-secondary">æ¬¡è¦æŒ‰é’®</button>
              <button class="theme-button button-text">æ–‡å­—æŒ‰é’®</button>
            </view>
          </view>
        </view>

        <!-- å…¶ä»–è®¾ç½® -->
        <view class="setting-section">
          <view class="section-title theme-text-secondary">é€šç”¨è®¾ç½®</view>

          <view class="setting-item theme-card">
            <view class="item-left">
              <text class="item-icon">ğŸ””</text>
              <text class="item-label">æ¶ˆæ¯é€šçŸ¥</text>
            </view>
            <view class="item-right">
              <switch :checked="true" color="var(--color-primary)" />
            </view>
          </view>

          <view class="setting-item theme-card">
            <view class="item-left">
              <text class="item-icon">ğŸ“±</text>
              <text class="item-label">éœ‡åŠ¨åé¦ˆ</text>
            </view>
            <view class="item-right">
              <switch :checked="true" color="var(--color-primary)" />
            </view>
          </view>
        </view>

        <!-- å…³äº -->
        <view class="setting-section">
          <view class="section-title theme-text-secondary">å…³äº</view>

          <view class="setting-item theme-card">
            <view class="item-left">
              <text class="item-icon">â„¹ï¸</text>
              <text class="item-label">ç‰ˆæœ¬å·</text>
            </view>
            <view class="item-right">
              <text class="item-value theme-text-tertiary">v1.0.0</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>
</template>

<script setup lang="ts">
import { computed } from 'vue';
import { useThemeStore } from '@/store/modules/theme';

const themeStore = useThemeStore();

const primaryColor = computed(() =>
  themeStore.isDark ? '#4a90e2' : '#1a73e8'
);
</script>

<style lang="scss" scoped>
.setting-page {
  min-height: 100vh;
  background-color: var(--bg-primary);
  padding-bottom: 40rpx;
}

.page-header {
  padding: 40rpx $spacing-md 20rpx;

  .page-title {
    font-size: $font-size-xxl;
    font-weight: $font-weight-bold;
    color: var(--text-primary);
  }
}

.setting-list {
  padding: 0 $spacing-md;
}

.setting-section {
  margin-bottom: $spacing-xl;

  .section-title {
    font-size: $font-size-sm;
    padding: $spacing-sm 0;
    margin-bottom: $spacing-sm;
  }
}

.setting-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: $spacing-md;
  margin-bottom: $spacing-md;

  .item-left {
    display: flex;
    align-items: center;
    gap: $spacing-sm;

    .item-icon {
      font-size: 40rpx;
    }

    .item-label {
      font-size: $font-size-md;
      color: var(--text-primary);
    }
  }

  .item-right {
    display: flex;
    align-items: center;
    gap: $spacing-sm;

    .item-value {
      font-size: $font-size-sm;
    }

    .color-preview {
      width: 48rpx;
      height: 48rpx;
      border-radius: $border-radius-sm;
      border: 2rpx solid var(--border-primary);
    }
  }
}

.preview-card {
  padding: $spacing-lg;
  margin-bottom: $spacing-md;

  .preview-title {
    font-size: $font-size-md;
    font-weight: $font-weight-medium;
    color: var(--text-primary);
    margin-bottom: $spacing-md;
  }

  .color-samples {
    display: flex;
    gap: $spacing-md;

    .color-sample {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: $spacing-xs;

      .sample-color {
        width: 100%;
        height: 80rpx;
        border-radius: $border-radius-md;
      }

      .sample-label {
        font-size: $font-size-xs;
        color: var(--text-tertiary);
      }
    }
  }

  .text-samples {
    display: flex;
    flex-direction: column;
    gap: $spacing-sm;

    .sample-text {
      font-size: $font-size-md;
    }
  }

  .button-samples {
    display: flex;
    flex-direction: column;
    gap: $spacing-md;

    button {
      width: 100%;
    }
  }
}
</style>
