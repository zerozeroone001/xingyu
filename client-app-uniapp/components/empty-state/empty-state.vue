<template>
  <view class="empty-state">
    <image v-if="image" :src="image" class="empty-image" mode="aspectFit"></image>
    <view v-else class="empty-icon">
      <text class="icon-text">{{ icon }}</text>
    </view>
    <view class="empty-text">{{ text }}</view>
    <view v-if="description" class="empty-description">{{ description }}</view>
    <button v-if="showButton" class="empty-button" @tap="handleAction">
      {{ buttonText }}
    </button>
  </view>
</template>

<script setup>
/**
 * ç©ºçŠ¶æ€ç»„ä»¶
 * ç”¨äºŽå±•ç¤ºæ— æ•°æ®ã€åŠ è½½å¤±è´¥ç­‰çŠ¶æ€
 */
const props = defineProps({
  // ç©ºçŠ¶æ€å›¾ç‰‡
  image: {
    type: String,
    default: ''
  },
  // ç©ºçŠ¶æ€å›¾æ ‡ï¼ˆemojiï¼‰
  icon: {
    type: String,
    default: 'ðŸ“'
  },
  // ç©ºçŠ¶æ€æ–‡æœ¬
  text: {
    type: String,
    default: 'æš‚æ— æ•°æ®'
  },
  // ç©ºçŠ¶æ€æè¿°
  description: {
    type: String,
    default: ''
  },
  // æ˜¯å¦æ˜¾ç¤ºæŒ‰é’®
  showButton: {
    type: Boolean,
    default: false
  },
  // æŒ‰é’®æ–‡æœ¬
  buttonText: {
    type: String,
    default: 'é‡æ–°åŠ è½½'
  }
})

const emit = defineEmits(['action'])

/**
 * ç‚¹å‡»æŒ‰é’®
 */
const handleAction = () => {
  emit('action')
}
</script>

<style lang="scss" scoped>
.empty-state {
  @include flex-center;
  flex-direction: column;
  padding: $spacing-xxl 0;
  min-height: 400rpx;
}

.empty-image {
  width: 300rpx;
  height: 300rpx;
  margin-bottom: $spacing-lg;
  opacity: 0.6;
}

.empty-icon {
  margin-bottom: $spacing-lg;
}

.icon-text {
  font-size: 120rpx;
  opacity: 0.6;
}

.empty-text {
  font-size: $font-size-lg;
  color: $text-secondary;
  margin-bottom: $spacing-sm;
}

.empty-description {
  font-size: $font-size-sm;
  color: $text-third;
  margin-bottom: $spacing-lg;
  text-align: center;
  padding: 0 $spacing-xl;
}

.empty-button {
  @include reset-button;
  padding: $spacing-sm $spacing-xl;
  background-color: $button-primary;
  color: #FFFFFF;
  border-radius: $border-radius-md;
  font-size: $font-size-base;
}
</style>
