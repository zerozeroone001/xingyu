# 星语诗词 - 用户端

星语诗词平台的用户端应用,基于 uni-app 框架开发,支持小程序和 H5。

## 🎨 已实现功能

### 1. 主题切换系统

提供 10 种精美主题,每种主题都有完整的颜色系统:

- ☀️ **明亮** - 清新简洁的默认主题
- 🌙 **暗黑** - 护眼舒适的暗色主题
- 🌲 **森林** - 自然清新的绿色主题
- 💜 **炫紫** - 梦幻神秘的紫色主题
- 🌊 **海洋** - 清凉宁静的蓝色主题
- 🌅 **日落** - 温暖浪漫的橙色主题
- 🌸 **樱花** - 浪漫优雅的粉色主题
- 🌌 **夜空** - 深邃神秘的深蓝主题
- 🍂 **秋叶** - 温馨怀旧的棕色主题
- ❄️ **冰雪** - 清冷纯净的浅蓝主题

**特性:**
- ✅ 主题自动保存,下次打开应用自动生效
- ✅ 丝滑的过渡动画效果
- ✅ 全局 CSS 变量支持
- ✅ 所有组件自动适配主题

### 2. 首页 - 诗词推荐

精美的首页设计,展示每日推荐诗词:

- 📖 **诗词推荐卡片** - 精美的卡片设计,展示诗词标题、内容、作者信息
- 🔄 **换一首** - 一键刷新,获取新的推荐诗词
- 👁️ **互动数据** - 显示阅读数、点赞数、评论数
- 📅 **每日一句** - 展示经典诗词名句
- 🚀 **快捷入口** - AI创作、搜索、飞花令快捷入口

**特性:**
- ✅ 下拉刷新支持
- ✅ 加载中/错误/空状态组件
- ✅ 模拟数据支持(后端未启动时)
- ✅ 点击卡片跳转详情页
- ✅ 震动反馈提升交互体验

### 3. 组件系统

**通用组件:**
- `ThemeSwitch` - 主题切换组件
- `LoadingState` - 加载中状态组件
- `ErrorState` - 错误状态组件
- `EmptyState` - 空状态组件

**诗词组件:**
- `PoetryCard` - 诗词推荐卡片

### 4. API 对接

完整的 API 请求封装:
- ✅ 统一的请求拦截和响应处理
- ✅ Token 自动管理
- ✅ 错误统一处理
- ✅ 401 自动跳转登录
- ✅ 请求超时处理

## 📁 项目结构

```
xingyu-app/
├── api/                    # API 接口
│   ├── request.js         # 请求封装
│   └── poetry.js          # 诗词 API
├── components/            # 组件
│   ├── common/           # 通用组件
│   │   ├── ThemeSwitch.vue
│   │   ├── LoadingState.vue
│   │   ├── ErrorState.vue
│   │   └── EmptyState.vue
│   └── poetry/           # 诗词组件
│       └── PoetryCard.vue
├── stores/               # 状态管理
│   └── theme.js          # 主题管理
├── utils/                # 工具函数
│   └── themes.js         # 主题配置
├── pages/                # 页面
│   └── index/           # 首页
│       └── index.vue
├── App.vue               # 应用入口
├── main.js               # 主文件
└── pages.json            # 页面配置
```

## 🚀 运行项目

### 方式一:使用 HBuilderX (推荐)

1. 使用 HBuilderX 打开项目
2. 选择运行 -> 运行到浏览器 -> Chrome
3. 或运行到微信开发者工具

### 方式二:命令行运行

```bash
# 如果有 package.json,可以使用 npm
npm install
npm run dev:h5           # 运行 H5
npm run dev:mp-weixin    # 运行小程序
```

## 🎯 功能演示

### 1. 主题切换

1. 点击导航栏右上角的主题图标
2. 在弹窗中选择喜欢的主题
3. 主题会立即生效,并自动保存

### 2. 查看推荐诗词

1. 打开应用,自动加载推荐诗词
2. 点击"换一首"按钮,刷新推荐
3. 下拉刷新也可以获取新的推荐

### 3. 查看诗词详情

1. 点击诗词卡片
2. 跳转到诗词详情页(功能开发中)

## 🔧 配置说明

### API 基础地址

修改 `api/request.js` 中的 `BASE_URL`:

```javascript
const BASE_URL = 'http://localhost:8000/api/v1'  // 改为你的后端地址
```

### 主题配置

主题配置在 `utils/themes.js` 中,可以自定义颜色:

```javascript
export const themes = {
  light: {
    name: '明亮',
    icon: '☀️',
    bgPrimary: '#FFFFFF',
    // ... 更多颜色配置
  }
}
```

## 📝 代码规范

- ✅ 详细的代码注释
- ✅ 统一的命名规范
- ✅ 组件化开发
- ✅ 响应式设计
- ✅ 错误处理完善

## 🎨 样式说明

所有样式使用 CSS 变量,便于主题切换:

```css
.card {
  background-color: var(--bg-card);
  color: var(--text-primary);
  border: 1rpx solid var(--border);
}
```

## 🐛 已知问题

1. 后端未启动时,会使用模拟数据
2. 部分功能(AI创作、搜索、飞花令)提示"功能开发中"

## 📮 下一步开发计划

- [ ] 诗词详情页
- [ ] 诗词列表页
- [ ] 搜索功能
- [ ] AI 创作功能
- [ ] 飞花令游戏
- [ ] 个人中心
- [ ] 用户登录注册

## 📄 License

MIT License

---

**开发者:** Claude
**最后更新:** 2025-11-15
